(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{39:e=>{e.exports={loaderContainer:"FetchWeather_loaderContainer__7DVlK",loader:"FetchWeather_loader__0lJ_P",spin:"FetchWeather_spin__yHbKq"}},1083:e=>{e.exports={container:"DisplayWeather_container__LNaBM",weatherInfo:"DisplayWeather_weatherInfo__nt4Bo",title:"DisplayWeather_title__uALo4",temperature:"DisplayWeather_temperature__lxrF9",feelsLike:"DisplayWeather_feelsLike__f6FuO",weatherIcon:"DisplayWeather_weatherIcon__PO4Eg",backButton:"DisplayWeather_backButton__VxhJS",forecastContainer:"DisplayWeather_forecastContainer__14Icy",forecast:"DisplayWeather_forecast__HhTUt",forecastDay:"DisplayWeather_forecastDay__XhCSr"}},1524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5155),n=r(2115),a=r(6766),c=r(39),i=r.n(c);let l=e=>{let{city:t,onDataLoaded:r}=e,[a,c]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.weatherapi.com/v1/forecast.json?key=".concat("7f9080f430964821b52103358250804","&q=").concat(encodeURIComponent(t),"&days=7&lang=ru"));if(!e.ok)throw Error("Ошибка получения данных");let s=await e.json();r(s),o(null)}catch(e){o("Не удалось получить данные о погоде для города ".concat(t)),console.error(e)}finally{c(!1)}})()},[t,r]),a)?(0,s.jsx)("div",{className:i().loaderContainer,children:(0,s.jsx)("div",{className:i().loader})}):l?(0,s.jsx)("div",{children:l}):null};var o=r(1083),d=r.n(o),h=r(6874),x=r.n(h),_=r(5695);let u=()=>{var e;let[t,r]=(0,n.useState)(null),c=null!==(e=(0,_.useSearchParams)().get("city"))&&void 0!==e?e:"Санкт-Петербург";return(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)(x(),{href:"/",children:(0,s.jsx)("button",{className:d().backButton,children:"Back"})}),(0,s.jsx)(l,{city:c,onDataLoaded:e=>r(e)}),t&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:d().weatherInfo,children:[(0,s.jsxs)("h2",{className:d().title,children:[t.location.name,", ",t.location.country]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Локальное время:"})," ",t.location.localtime]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Температура:"})," ",t.current.temp_c,"\xb0C"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Ощущается как:"})," ",t.current.feelslike_c,"\xb0C"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Состояние:"})," ",t.current.condition.text]}),(0,s.jsx)("div",{className:d().weatherIcon,children:(0,s.jsx)(a.default,{src:"https:".concat(t.current.condition.icon),alt:t.current.condition.text,width:64,height:64,quality:80,loading:"lazy"})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Влажность:"})," ",t.current.humidity,"%"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Скорость ветра:"})," ",t.current.wind_kph," км/ч"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Направление ветра:"})," ",t.current.wind_dir]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Давление:"})," ",t.current.pressure_mb," мбар"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Облачность:"})," ",t.current.cloud,"%"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"УФ-индекс:"})," ",t.current.uv]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Видимость:"})," ",t.current.vis_km," км"]})]}),(0,s.jsxs)("div",{className:d().forecastContainer,children:[(0,s.jsx)("h3",{children:"Прогноз на 7 дней:"}),(0,s.jsx)("div",{className:d().forecast,children:t.forecast.forecastday.map(e=>{let t=new Date(e.date),r=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"][t.getDay()],n=t.getDate(),c=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][t.getMonth()];return(0,s.jsxs)("div",{className:d().forecastDay,children:[(0,s.jsxs)("h4",{className:d().data,children:[r,", ",n," ",c]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Температура:"}),(0,s.jsx)("br",{}),e.day.mintemp_c,"\xb0C - ",e.day.maxtemp_c,"\xb0C"]}),(0,s.jsx)("div",{className:d().weatherIcon,children:(0,s.jsx)(a.default,{src:"https:".concat(e.day.condition.icon),alt:e.day.condition.text,width:64,height:64,quality:80,loading:"lazy"})}),(0,s.jsx)("p",{children:e.day.condition.text})]},e.date)})})]})]})]})};function j(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{children:"Загрузка..."}),children:(0,s.jsx)(u,{})})}},2036:(e,t,r)=>{Promise.resolve().then(r.bind(r,1524))}},e=>{var t=t=>e(e.s=t);e.O(0,[887,874,212,441,684,358],()=>t(2036)),_N_E=e.O()}]);